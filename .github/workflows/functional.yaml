name: functional

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
        
      - name: unlock secrets
        id: unlock_secrets
        uses: someara/action-git-crypt-unlock@main
        env:
          GPG_PRIVATE_KEY: "LS0tLS1CRUdJTiBQR1AgUFJJVkFURSBLRVkgQkxPQ0stLS0tLQoKbElZRVg1dFFjQllKS3dZQkJBSGFSdzhCQVFkQVU0UWJjSlc3Z0pqcy9ya1hjQi9LeU1RS0RNNWU5V2lIbEFsegp1STcwTTVYK0J3TUNKSEtDeTFRcWlZRHR3NzJSYW1DdzFSbW95aEJ4a0tteXQzOWNMR2p1TUdWYUV5RU5haGMxCjNhbGx1OTRVRUtnOWlUVUZkWHBVT3BRejNhV0d0b0VVcys2QWswU3p3NG5xR3ZRK2tBZjRzYlFmWkdWdGIyeGgKWWlBOFpHVnRiMnhoWWtCamIyMXdkWFJsY25NdVltbDZQb2lOQkJNV0NBQTFGaUVFR0lsWHc1Zmt3eDdKeVlwUApodml0eUF6N0hrOEZBbCtiVUhBQ0d3TUZDUUFCVVlBQ0N3a0NGUWdDRmdJQ0hnRUNGNEFBQ2drUWh2aXR5QXo3CkhrODZ4d0VBODFkY0NSV1gySE1uaXViY3d0VnR4YUZiRG1lY1o4Q2VCK1R5TUV6WXFRSUJBUEl1YmpkbUVyUWcKd25IZUFSYzdrRkFaL0NwNEtXdXZMMjZnck4yQlowSU9uSXNFWDV0UWNCSUtLd1lCQkFHWFZRRUZBUUVIUUhTagpKam9ScHdLYzJ6emt0bi8zOWJ6cGpmNzBmTjhQVkFMdVZrMFpLaFFOQXdFSUIvNEhBd0pOdzVYcW5Ma3oyKzJrCkxESlNqYXI2SW54YllxMVIyS1VPdFJmSEMrQ1F0ZHIvRXdPSmtSaEMvMzdUQUo4K2lVdzhXb0M0Tk90NW1uNlAKMlYyLzhXMTBPR01UZW5DQ2pBOHV6QkZQVUtUTGlINEVHQllJQUNZV0lRUVlpVmZEbCtUREhzbkppaytHK0szSQpEUHNlVHdVQ1g1dFFjQUliREFVSkFBRlJnQUFLQ1JDRytLM0lEUHNlVDVRRkFQOTBXRWFuV2trRWx3c3BVS3NRCllHRWtKV2Nsa3IyNUlrREdRYXEwdDVxeEZBRUFvbTl2RUlYWTR0VEZYcWxhL2xZTHNRcnVEUXlDTDVVYkFVZVIKQ1lQUlNBeWNpd1JmbTJhREVnb3JCZ0VFQVpkVkFRVUJBUWRBRDdIVkJqRVNpMlE1MWszR0ZPWFovRm0valNleQpNeDBmMGFGZDhwTUZPekVEQVFnSC9nY0RBcFNNVmdwazIxMHc3UXVRTk5aTmNsSU4rQ2F3VC92eFdMRk5pc2JzCngxS2RzWncwR0tJcHp1eEYxZUZjblRpZXVqSGhvRFBJUTdKR3E5T1RWNk5ERHA5OUhsdjVma3k5elNid3Z6dkUKbVhxSWZnUVlGZ2dBSmhZaEJCaUpWOE9YNU1NZXljbUtUNGI0cmNnTSt4NVBCUUpmbTJhREFoc01CUWtBQVZHQQpBQW9KRUliNHJjZ00reDVQZGRNQkFLc1RqcGpJYldka3gxbncreWpEM0JiWUREQXZZb1ZSbC9jc21pWm9PYjZLCkFRRDQ2aWI0dDYrTnNVZTVoZFJHamZkdWdVQXhZOUw4cHJGTy9HUVJxOWhuQ3B5TEJGK2Jad2tTQ2lzR0FRUUIKbDFVQkJRRUJCMEJBNFRoQTd5U1NJaEgzT1JZckx5NFBxc3hoV2wzM1M0OXBZTUdwN1ZBNUVBTUJDQWYrQndNQwo1bTJ2WSthcU5PYnR5NXJqWWFRZFJzOUZISzdLQnl2ZzNlWkt0SmordHd6OWhCL0RBTkgzZVl4NXZwMUo4MWVNCmI0dTlBWDNhbURsVSs0dmwzRy9YcXFsaHVFUWFsLzE2ekNuYjJRWGtMNGgrQkJnV0NBQW1GaUVFR0lsWHc1ZmsKd3g3SnlZcFBodml0eUF6N0hrOEZBbCtiWndrQ0d3d0ZDUUFCVVlBQUNna1Fodml0eUF6N0hrK1RmUUQvWGRnMApjRDFsbTRmR3B2Vm9DOVh6dTJxN29FSTZDa1RRNi9sWUE5d0FOQlVCQU82Z3ozZGxrWGg2dThRTUl1ZnA5ZndWCjlnbzRHcjFUVUg4bm00cWZiQk1QCj1iYmtVCi0tLS0tRU5EIFBHUCBQUklWQVRFIEtFWSBCTE9DSy0tLS0tCg=="
          GPG_KEY_GRIP: "4D72A10E4079686A0308742AC0FAAFB27A3C270E"
          GPG_KEY_PASS: "abc123"

      - name: print testfile
        id: print_testfile
        run: |
          cat test/testfile
