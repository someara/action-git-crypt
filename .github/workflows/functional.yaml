name: functional

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2

      - name: unlock secrets
        id: unlock_secrets
        uses: someara/action-git-crypt-unlock@main
        env:
          GPG_PRIVATE_KEY: "LS0tLS1CRUdJTiBQR1AgUFJJVkFURSBLRVkgQkxPQ0stLS0tLQoKbElZRVg1dFFjQllKS3dZQkJBSGFSdzhCQVFkQVU0UWJjSlc3Z0pqcy9ya1hjQi9LeU1RS0RNNWU5V2lIbEFsegp1STcwTTVYK0J3TUM5aGdtd2VUbzRBSHRlQmlUZkNQaFQ1Y29FVXRFU0h4TUU5SklVbXdOQ0lFb1Jvc3Y4YTYwCmpCSFArNitIekI3MWRPako1UjJLMmw5ZTd1VEZSdFFCUGwvcVRHbnZzNURFZkVJeHpiS0ZjYlFmWkdWdGIyeGgKWWlBOFpHVnRiMnhoWWtCamIyMXdkWFJsY25NdVltbDZQb2lOQkJNV0NBQTFGaUVFR0lsWHc1Zmt3eDdKeVlwUApodml0eUF6N0hrOEZBbCtiVUhBQ0d3TUZDUUFCVVlBQ0N3a0NGUWdDRmdJQ0hnRUNGNEFBQ2drUWh2aXR5QXo3CkhrODZ4d0VBODFkY0NSV1gySE1uaXViY3d0VnR4YUZiRG1lY1o4Q2VCK1R5TUV6WXFRSUJBUEl1YmpkbUVyUWcKd25IZUFSYzdrRkFaL0NwNEtXdXZMMjZnck4yQlowSU9uSXNFWDV0UWNCSUtLd1lCQkFHWFZRRUZBUUVIUUhTagpKam9ScHdLYzJ6emt0bi8zOWJ6cGpmNzBmTjhQVkFMdVZrMFpLaFFOQXdFSUIvNEhBd0tCbHZxaDlmcjhiTzFaClZqc1EyL1lrTHEvZmFBcDJwckZ5alBHRHU4M3hTMlJlRGwwV252a1BpazdqSklXamhoQkV3SkIrdkRkT1pQRWMKdzNQVzZlajNNSWpXQWc2Y2lIenc3bDhqV0RJbmlINEVHQllJQUNZV0lRUVlpVmZEbCtUREhzbkppaytHK0szSQpEUHNlVHdVQ1g1dFFjQUliREFVSkFBRlJnQUFLQ1JDRytLM0lEUHNlVDVRRkFQOTBXRWFuV2trRWx3c3BVS3NRCllHRWtKV2Nsa3IyNUlrREdRYXEwdDVxeEZBRUFvbTl2RUlYWTR0VEZYcWxhL2xZTHNRcnVEUXlDTDVVYkFVZVIKQ1lQUlNBeWNpd1JmbTJhREVnb3JCZ0VFQVpkVkFRVUJBUWRBRDdIVkJqRVNpMlE1MWszR0ZPWFovRm0valNleQpNeDBmMGFGZDhwTUZPekVEQVFnSC9nY0RBc0lWby9tM2xTRFU3Y0lMTVdFYkpqU2ZOZTFlZzh6bUNsNUtuK1hOCmo0QmVkTEI4S3N2T29QVkorbUcvVW9BMm9wckpxZnBHTmdFZXZ3RGJEakkxdFA0MmEwQjE0eW56ZzBWekxQUm4KcGJ5SWZnUVlGZ2dBSmhZaEJCaUpWOE9YNU1NZXljbUtUNGI0cmNnTSt4NVBCUUpmbTJhREFoc01CUWtBQVZHQQpBQW9KRUliNHJjZ00reDVQZGRNQkFLc1RqcGpJYldka3gxbncreWpEM0JiWUREQXZZb1ZSbC9jc21pWm9PYjZLCkFRRDQ2aWI0dDYrTnNVZTVoZFJHamZkdWdVQXhZOUw4cHJGTy9HUVJxOWhuQ3B5TEJGK2Jad2tTQ2lzR0FRUUIKbDFVQkJRRUJCMEJBNFRoQTd5U1NJaEgzT1JZckx5NFBxc3hoV2wzM1M0OXBZTUdwN1ZBNUVBTUJDQWYrQndNQwo2NWlWWGFGbDFVZnQ0Z05DZStRamV4N3JoNHNJWHEzMHBmQjBodTFrdjhxMG1RVm9rQlFoN1F6d2xUWmN1QTNoCmxkYitTMVlDeFg4cVc3VVRJcDBwandTTnJSVU00UCtkeUVmSmNFT1J1SWgrQkJnV0NBQW1GaUVFR0lsWHc1ZmsKd3g3SnlZcFBodml0eUF6N0hrOEZBbCtiWndrQ0d3d0ZDUUFCVVlBQUNna1Fodml0eUF6N0hrK1RmUUQvWGRnMApjRDFsbTRmR3B2Vm9DOVh6dTJxN29FSTZDa1RRNi9sWUE5d0FOQlVCQU82Z3ozZGxrWGg2dThRTUl1ZnA5ZndWCjlnbzRHcjFUVUg4bm00cWZiQk1QbklzRVg1dHhOUklLS3dZQkJBR1hWUUVGQVFFSFFJL1JOTW1HSmhxZkRtdmIKanJvQjRLT25vcldPVnhXNzIrcER6clp4eDZrWUF3RUlCLzRIQXdMTy91Z2o2Vk5rNXUxVWx4bXFxTnV1KzVzLwplOFlsbVpGV1l6V2lsbTVXdW94Vy9QQkFJQm44c05sMWJvUVc3QVhoN0VCeVg2TzQ1Y2dpZUNDemdSNHZKblVwClZaRmtNTjVidEFrYTEySDVpSDRFR0JZSUFDWVdJUVFZaVZmRGwrVERIc25KaWsrRytLM0lEUHNlVHdVQ1g1dHgKTlFJYkRBVUpBQUZSZ0FBS0NSQ0crSzNJRFBzZVQ2SXpBUUNZQk55bzJqMzF2T0NIWUhJYmd5RWhvZzlPWjVhTwpYalJtdFJTUDA0TTVwZ0VBeERZb0dWd3lzajcwZ2hkcC9TZy9GekpSdjZ0Q3JRVzV2enUxelo2SHRnK2Npd1JmCm0zSVlFZ29yQmdFRUFaZFZBUVVCQVFkQUQ5eDl3MUdqV0djUEpTU3cyazh1YzdBWkR0ZU5GOVk2eFFoWHppaHQKRm1ZREFRZ0gvZ2NEQXJySlk4VmhJamtHN1UydytYWmxhUnFndCtUdjlGcWRuRXcwMk9mdENXY05xM09JQzRRawpPTDc4QnRnMEwrdEJBeW5BaVNJM1FLczdqeEV1MDRmNVF1VHcyaG5LYlFnSVlHZitSdmR3dmgySWZnUVlGZ2dBCkpoWWhCQmlKVjhPWDVNTWV5Y21LVDRiNHJjZ00reDVQQlFKZm0zSVlBaHNNQlFrQUFWR0FBQW9KRUliNHJjZ00KK3g1UDU2Y0JBT080aE50MFlCYXdNMjcvTUxHVnl0VVhYZ0pLcktacGhOb1NpRHAyanJ6NUFQOXZZM3Z6S3lycApSOGJiRDFLRGpOdXpINUQ3dzkwSWt0RWJpYmQwT24vV0NweUxCRitiZHcwU0Npc0dBUVFCbDFVQkJRRUJCMEJLClN0TW9mdEhvRU9uWTJYdmJNWllOQ2YxMU5Gajh4YTNDbXlKUHFhZGJJZ01CQ0FmK0J3TUNsN2VDT1dKL1JNN3QKNU01NkVyREgrenQydWdKeGZmQnVPSFN4MklBK01BUGVuTnJsL3E0em4zQkZseldIOGlzb2hqNGY3UDNsczExSwpQMzBQVmZnUkZlMWVta09BNk1uRVp4Yi92T245MVloK0JCZ1dDQUFtRmlFRUdJbFh3NWZrd3g3SnlZcFBodml0CnlBejdIazhGQWwrYmR3MENHd3dGQ1FBQlVZQUFDZ2tRaHZpdHlBejdIazh6TFFFQXVFdjFSQVhKSUdpTHJHWlUKRkRPSjVYYnBtRko3UGQwTE9LQko4WGhhbmF3QS8wQm9CUFFCajRRYnl1d2Z0a3BBbmx1YitUS1ZBZFFTYUpxawpMN2ZXQ0ZFRAo9eWlYcgotLS0tLUVORCBQR1AgUFJJVkFURSBLRVkgQkxPQ0stLS0tLQo="
          GPG_KEY_GRIP: "9304F8E2BCC519F2431FD4B8F10734FA9B9552AD"
          GPG_KEY_PASS: "abc123"

      - name: print testfile
        id: print_testfile
        run: |
          cat test/testfile
